### 1. Текущая ситуация

«Spectroscope» — это система, предназначенная для загрузки и анализа спектров сигналов в реальном времени. 
На данный момент создан только линейный график, еще нужно создать Heatmap, он визуализирует сигналы в виде тепловой карты в зависимости от мощносчти сигнала за множество измерений в течении времени.
Его планировалась создать с использованием Avalonia UI (фреймворк для кросс-платформенной разработки приложений на .NET) с использованием сторонней библиотеки `LiveChartsCore` для отрисовки графиков.

### 2. Проблема и цель

Основная проблема заключается в том, что использование библиотеки LiveChartsCore требует слишком сильно нагружает компьютер пользователя.   
Цель: Своя реализация построения графиков для контроля ресурсов.
---

### 3. Требования и ограничения

Для достижения этой цели необходимо создать HeatmapViewer соответствующий нескольким требованиям:

* Независимый кросс-платформенный компонент: Он должен функционировать как автономный контрол Avalonia UI.
* Отрисовка линейного графика: Вместо LiveChartsCore он будет использовать собственная реализация отрисовки графика
* Обработка данных:
    * Компонент должен получать и отображать данные, предоставляемые через структуру LinearPositionsContext.
    * Он должен реагировать на изменения в этих данных. Система использует INotifyPropertyChanged (часть шаблона проектирования MVVM) для оповещения об обновлении данных, и график должен соответствующим образом перерисовываться.
* Конфигурация: Внешний вид и поведение компонента будут управляться объектом ApplicationSettings, также использующим INotifyPropertyChanged для динамических обновлений.
* Функции построения графиков:
    * Отображение теплойвой карты по мощности в течении времени.
* Адаптивность: График должен корректно перерисовываться при поступлении новых данных или изменении настроек.

Ограничения:
* Компонент должен быть разработан на C# с использованием фреймворка Avalonia UI.
* Компонент должен быть кросс-платформенным

---

### 4. План

1.  Реализация собственной отрисовки графиков
2.  Интеграция HeatmapViewerr в систему
2.  Поддержка привязки данных: Обеспечить, чтобы компонент продолжал отслеживать изменения в HistoryPositionsContext и ApplicationSettings (через INotifyPropertyChanged) и запускал перерисовку при необходимости.
3.  Реализация требований: Реализовать все опции построения графиков.
5.  Проектирование с учетом расширяемости: При реализации текущих требований сохранить гибкость дизайна.

---

### 5. Ожидаемый результат
* Кросс-платформенный компонент, который легче поддерживать и расширять новыми функциями

### Примерный итоговый вид:
![Снимок экрана 2025-06-05 222648](https://github.com/user-attachments/assets/a426f2e0-4fe3-429c-8f4a-c099be464bae)
